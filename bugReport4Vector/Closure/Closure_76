Assignments within conditions are sometimes incorrectly removed
What steps will reproduce the problem?   1. See attachment.  2. Run original.  3. Run compiled.      What is the expected output? What do you see instead?   * Both should return "true"  * Original does return "true"  * Compiled returns "undefined"      What version of the product are you using? On what operating system?   Closure Compiler (http://code.google.com/closure/compiler)  Version: 706  Built on: 2011/01/19 19:53    Mac OS X 10.6    Please provide any additional information below.   In the attached reduction if the "echo" functions aren't used then the entire body of the function is compiled away, they are there to demonstrate that the first assignment in the condition is removed.      Original:    function reduction()  {      var a, b;      if (echo(b = true) || echo(b = false))          a = b;      else          a = null;      return a;  }      Compiled:    function reduction() {      var a;      return echo(true) || echo(a = false) ? a: null  }