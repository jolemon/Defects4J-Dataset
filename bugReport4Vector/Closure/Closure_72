Internal Compiler Error on Bullet
What steps will reproduce the problem? 1. The attachment is the Bullet physics library, compiled from C++ to JS using Emscripten.  2. I tried to compile it using the Closure Compiler, latest downloadable version (Apr 5 2011), with    java -jar apr5compiler.jar --compilation_level ADVANCED_OPTIMIZATIONS --variable_map_output_file js.vars --js bullet_1_1_q1.js --js_output_file bullet_1_1_q1.cc.js    What is the expected output? What do you see instead?   I would expect it to compile successfully. Instead it halts (after a few hours) with      ==================  java.lang.RuntimeException: java.lang.RuntimeException: INTERNAL COMPILER ERROR.  Please report this problem.  null    Node(LABEL): bullet_1_1_q1.js:60150:8          $for_body$5: while(1) {     Parent(BLOCK): bullet_1_1_q1.js:60043:26        if (__label__ == 0) {     at com.google.javascript.jscomp.Compiler.runCallable(Unknown Source)   at com.google.javascript.jscomp.Compiler.runInCompilerThread(Unknown Source)   at com.google.javascript.jscomp.Compiler.compile(Unknown Source)   at com.google.javascript.jscomp.Compiler.compile(Unknown Source)   at com.google.javascript.jscomp.AbstractCommandLineRunner.doRun(Unknown Source)   at com.google.javascript.jscomp.AbstractCommandLineRunner.run(Unknown Source)   at com.google.javascript.jscomp.CommandLineRunner.main(Unknown Source)  Caused by: java.lang.RuntimeException: INTERNAL COMPILER ERROR.  Please report this problem.  null    Node(LABEL): bullet_1_1_q1.js:60150:8          $for_body$5: while(1) {     Parent(BLOCK): bullet_1_1_q1.js:60043:26        if (__label__ == 0) {     at com.google.common.base.Preconditions.checkState(Preconditions.java:129)   at com.google.javascript.jscomp.RenameLabels$ProcessLabels.shouldTraverse(Unknown Source)   at com.google.javascript.jscomp.NodeTraversal.traverseBranch(Unknown Source)   at com.google.javascript.jscomp.NodeTraversal.traverseBranch(Unknown Source)   at com.google.javascript.jscomp.NodeTraversal.traverseBranch(Unknown Source)   at com.google.javascript.jscomp.NodeTraversal.traverseBranch(Unknown Source)   at com.google.javascript.jscomp.NodeTraversal.traverseBranch(Unknown Source)   at com.google.javascript.jscomp.NodeTraversal.traverseBranch(Unknown Source)   at com.google.javascript.jscomp.NodeTraversal.traverseBranch(Unknown Source)   at com.google.javascript.jscomp.NodeTraversal.traverseBranch(Unknown Source)   at com.google.javascript.jscomp.NodeTraversal.traverseBranch(Unknown Source)   at com.google.javascript.jscomp.NodeTraversal.traverseBranch(Unknown Source)   at com.google.javascript.jscomp.NodeTraversal.traverseBranch(Unknown Source)   at com.google.javascript.jscomp.NodeTraversal.traverseBranch(Unknown Source)   at com.google.javascript.jscomp.NodeTraversal.traverseBranch(Unknown Source)   at com.google.javascript.jscomp.NodeTraversal.traverseBranch(Unknown Source)   at com.google.javascript.jscomp.NodeTraversal.traverseBranch(Unknown Source)   at com.google.javascript.jscomp.NodeTraversal.traverseBranch(Unknown Source)   at com.google.javascript.jscomp.NodeTraversal.traverseBranch(Unknown Source)   at com.google.javascript.jscomp.NodeTraversal.traverseBranch(Unknown Source)   at com.google.javascript.jscomp.NodeTraversal.traverseBranch(Unknown Source)   at com.google.javascript.jscomp.NodeTraversal.traverseBranch(Unknown Source)   at com.google.javascript.jscomp.NodeTraversal.traverseBranch(Unknown Source)   at com.google.javascript.jscomp.NodeTraversal.traverseFunction(Unknown Source)   at com.google.javascript.jscomp.NodeTraversal.traverseBranch(Unknown Source)   at com.google.javascript.jscomp.NodeTraversal.traverseBranch(Unknown Source)   at com.google.javascript.jscomp.NodeTraversal.traverseBranch(Unknown Source)   at com.google.javascript.jscomp.NodeTraversal.traverse(Unknown Source)   at com.google.javascript.jscomp.NodeTraversal.traverse(Unknown Source)   at com.google.javascript.jscomp.RenameLabels.process(Unknown Source)   at com.google.javascript.jscomp.PhaseOptimizer$PassFactoryDelegate.processInternal(Unknown Source)   at com.google.javascript.jscomp.PhaseOptimizer$NamedPass.process(Unknown Source)   at com.google.javascript.jscomp.PhaseOptimizer.process(Unknown Source)   at com.google.javascript.jscomp.Compiler.optimize(Unknown Source)   at com.google.javascript.jscomp.Compiler.compileInternal(Unknown Source)   at com.google.javascript.jscomp.Compiler.access$000(Unknown Source)   at com.google.javascript.jscomp.Compiler$1.call(Unknown Source)   at com.google.javascript.jscomp.Compiler$1.call(Unknown Source)   at com.google.javascript.jscomp.Compiler$2.run(Unknown Source)   at java.lang.Thread.run(Thread.java:662)  Caused by: java.lang.IllegalStateException   ... 40 more  ==================      What version of the product are you using? On what operating system?   The Closure Compiler download from Apr 5 2011, on Ubuntu 10.04 32 bit.  